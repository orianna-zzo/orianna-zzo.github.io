<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="author" content="ZHENG Zi&#39;ou">
<meta name="description" content="前言 又一次开始折腾Markdown了，不过这一次是因为好好的md文件，在typora中显示的好好的，但在Hugo渲染后格式就不对了，引起我这次探究主要问题在多级列表。考虑到毕竟两个软件的markdown渲染引擎不同，我并没有用到很特别的语法。之前在引用上也碰到了问题，typora中能很好地识别我想要的引用段落，但是Hugo不行。所以这次探究下是哪里出了问题，以及对应的解决方案。
既然已经提到了markdown，在针对问题之前也记录下现在hugo的markdown解析引擎。Markdown解析器有很多，最广泛应用的是GitHub Flavored Markdown的解析器(GFM)，基于CommonMark进行了拓展。Hugo现在默认使用Blackfriday作为Markdown解析引擎，只要日志文件是以.md或者.markdown结尾即可，可以参考这里在配置文件中配置相关参数。除了Blackfriday这个使用最广泛的引擎之外，hugo还支持mmark，mmark是一个基于Blackfriday之上增加了更多拓展语法的解析器。有两种方式可以声明使用mmark，一种是日志文件以.mmark结尾，另一种在日志文件的头部增加markup: mmark声明使用mmark进行解析。
问题列表 以下是问题列表：
 无序列表的多级列表无法显示层级，即应表现为:
  have a try  first second  another     却表现为(空心应为实心)：
  have a try  first second another    有序列表下的无序列表表现为有序列表，即应表现为:
  have a try  first second    却表现为：
  have a try  first second    引用中的代码段无法识别正确结束位置，即应表现为:
  In the quote
$ This is code fence   Out the quote">

<meta property="og:title" content="Blog养成记(7) Hugo多级列表无法显示? —— Markdown的bug合集" />
<meta property="og:description" content="前言 又一次开始折腾Markdown了，不过这一次是因为好好的md文件，在typora中显示的好好的，但在Hugo渲染后格式就不对了，引起我这次探究主要问题在多级列表。考虑到毕竟两个软件的markdown渲染引擎不同，我并没有用到很特别的语法。之前在引用上也碰到了问题，typora中能很好地识别我想要的引用段落，但是Hugo不行。所以这次探究下是哪里出了问题，以及对应的解决方案。
既然已经提到了markdown，在针对问题之前也记录下现在hugo的markdown解析引擎。Markdown解析器有很多，最广泛应用的是GitHub Flavored Markdown的解析器(GFM)，基于CommonMark进行了拓展。Hugo现在默认使用Blackfriday作为Markdown解析引擎，只要日志文件是以.md或者.markdown结尾即可，可以参考这里在配置文件中配置相关参数。除了Blackfriday这个使用最广泛的引擎之外，hugo还支持mmark，mmark是一个基于Blackfriday之上增加了更多拓展语法的解析器。有两种方式可以声明使用mmark，一种是日志文件以.mmark结尾，另一种在日志文件的头部增加markup: mmark声明使用mmark进行解析。
问题列表 以下是问题列表：
 无序列表的多级列表无法显示层级，即应表现为:
  have a try  first second  another     却表现为(空心应为实心)：
  have a try  first second another    有序列表下的无序列表表现为有序列表，即应表现为:
  have a try  first second    却表现为：
  have a try  first second    引用中的代码段无法识别正确结束位置，即应表现为:
  In the quote
$ This is code fence   Out the quote" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://orianna-zzo.github.io/blog/2018-03/blog%E5%85%BB%E6%88%90%E8%AE%B07-hugo%E5%A4%9A%E7%BA%A7%E5%88%97%E8%A1%A8%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA--markdown%E7%9A%84bug%E5%90%88%E9%9B%86/" />



<meta property="article:published_time" content="2018-03-20T16:46:17&#43;08:00"/>

<meta property="article:modified_time" content="2018-03-20T16:46:17&#43;08:00"/>






  
  








<title>


     Blog养成记(7) Hugo多级列表无法显示? —— Markdown的bug合集 

</title>
<link rel="canonical" href="https://orianna-zzo.github.io/blog/2018-03/blog%E5%85%BB%E6%88%90%E8%AE%B07-hugo%E5%A4%9A%E7%BA%A7%E5%88%97%E8%A1%A8%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA--markdown%E7%9A%84bug%E5%90%88%E9%9B%86/">








<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Ubuntu+Mono:400,400i,700,700i|Raleway:500">
 
  
  <link rel="stylesheet" href="https://orianna-zzo.github.io/css/reset.css?t=2018-08-21%2019%3a16%3a36.609333727%20%2b0000%20UTC%20m%3d%2b0.347143978">
  <link rel="stylesheet" href="https://orianna-zzo.github.io/css/main.css?t=2018-08-21%2019%3a16%3a36.609333727%20%2b0000%20UTC%20m%3d%2b0.347143978">
  
  
    <link rel="stylesheet" href="https://orianna-zzo.github.io/css/override.css?t=2018-08-21%2019%3a16%3a36.609333727%20%2b0000%20UTC%20m%3d%2b0.347143978"> 
   



<link rel="shortcut icon" 
   
    href="https://orianna-zzo.github.io/img/zheng.png" 
  >










<link rel="stylesheet" href="https://orianna-zzo.github.io/js/katex/katex.min.css">




  
  <link rel="stylesheet" href="https://orianna-zzo.github.io/css/highlight/github-gist.css">


</head>


<body lang="">

<section class="header">
    <div class="container">
        <div class="content">
            
                
                
                
                
                
                    
                
                    
                
                    
                
                    
                
                    
                
                
                <a href="https://orianna-zzo.github.io/"><img class="avatar" src="https://orianna-zzo.github.io/img/profile.png" srcset="https://orianna-zzo.github.io/img/profile.png 1x"></a>
            
            <a href="https://orianna-zzo.github.io/"><div class="name">ZHENG Zi&#39;ou</div></a>
            
              <h3 class="self-intro">Be myself. Love the wonderful world. Do the right things in the right way.</h3>
            
            <nav>
                <ul>
                    
                        <li class="nav-blog"><a href="https://orianna-zzo.github.io/blog/"><span>Blog</span></a></li>
                    
                        <li class="nav-about"><a href="https://orianna-zzo.github.io/about/"><span>About</span></a></li>
                    
                </ul>
            </nav>
        </div>
    </div>
</section>

<section class="icons">
    <div class="container">
        <div class="content">
        
            <a href="//github.com/orianna-zzo" target="_blank" rel="noopener"><img class="icon" src="https://orianna-zzo.github.io/img/github.svg" alt="github" /></a>
        

        

        

	

        

        

        
            <a href="//linkedin.com/in/ziouzheng" target="_blank" rel="noopener"><img class="icon" src="https://orianna-zzo.github.io/img/linkedin.svg" alt="linkedin" /></a>
        

        

        

        

        

        
            <a href="mailto:zhengziou@gmail.com"><img class="icon" src="https://orianna-zzo.github.io/img/email.svg" alt="email" /></a>
        

        

        
        </div>
    </div>
</section>

<section class="main post non-narrow zero-top-spacing">
    <div class="container">
        <div class="content">
            <div class="front-matter">
                <div class="title-container">
                    <div class="page-heading">

    Blog养成记(7) Hugo多级列表无法显示? —— Markdown的bug合集

</div>

                    <div class="initials"><a href="https://orianna-zzo.github.io/"></a></div>
                </div>
                <div class="meta">
                    <div style="display: flex">
                        
                        <div class="date" title='2018-03-20  Tuesday  16:46:17'>2018-03-20  Tuesday  16:46:17</div>
                        
  
                        
                        <div class="reading-time"><div class="middot"></div>2 minutes read</div>
                        
                    </div>
                    <div style="display: flex;">
                        
                        <div class="page-tag">
                            <div class="page-tag">series:</div>
                            
                            <div class="page-tag" id="series">
                                
                                <a href="https://orianna-zzo.github.io/series/blog%E5%85%BB%E6%88%90%E8%AE%B0">Blog养成记</a> 
                                
                            </div>
                            
                        </div>
                        

                        
                        <div class="page-tag">
                            <div class="page-tag">category: </div>
                            
                            <div class="page-tag" id="categories">
                                
                                <a href="https://orianna-zzo.github.io/categories/%E6%9D%82%E6%8A%80%E6%B5%85%E5%B0%9D">杂技浅尝</a> 
                                
                            </div>
                            
                        </div>
                        
                    </div>

                    
                    <div class="page-tag">
                        <div class="page-tag">tags: </div>
                        
                        <div class="page-tag" id="tags">
                            
                            <div class="page-tag">
                                <a href="https://orianna-zzo.github.io/tags/hugo">hugo</a>
                            </div>
                            
                            <div class="page-tag">
                                <a href="https://orianna-zzo.github.io/tags/markdown">markdown</a>
                            </div>
                            
                            <div class="page-tag">
                                <a href="https://orianna-zzo.github.io/tags/nested-list">nested list</a>
                            </div>
                            
                            <div class="page-tag">
                                <a href="https://orianna-zzo.github.io/tags/bug">bug</a>
                            </div>
                            
                            <div class="page-tag">
                                <a href="https://orianna-zzo.github.io/tags/blog">blog</a>
                            </div>
                            
                            <div class="page-tag">
                                <a href="https://orianna-zzo.github.io/tags/typora">typora</a>
                            </div>
                            
                        </div>
                        
                    </div>
                    
                </div>
            </div>
            <div class="markdown">
                

<h2 id="前言">前言</h2>

<p>又一次开始折腾Markdown了，不过这一次是因为好好的md文件，在typora中显示的好好的，但在Hugo渲染后格式就不对了，引起我这次探究主要问题在多级列表。考虑到毕竟两个软件的markdown渲染引擎不同，我并没有用到很特别的语法。之前在引用上也碰到了问题，typora中能很好地识别我想要的引用段落，但是Hugo不行。所以这次探究下是哪里出了问题，以及对应的解决方案。</p>

<p>既然已经提到了markdown，在针对问题之前也记录下现在hugo的markdown解析引擎。Markdown解析器有很多，最广泛应用的是GitHub Flavored Markdown的解析器(GFM)，基于<a href="http://commonmark.org/">CommonMark</a>进行了拓展。Hugo现在默认使用Blackfriday作为Markdown解析引擎，只要日志文件是以<code>.md</code>或者<code>.markdown</code>结尾即可，可以参考<a href="https://gohugo.io/getting-started/configuration/#blackfriday-options">这里</a>在配置文件中配置相关参数。除了Blackfriday这个使用最广泛的引擎之外，hugo还支持<a href="https://github.com/miekg/mmark">mmark</a>，mmark是一个基于Blackfriday之上增加了更多拓展语法的解析器。有两种方式可以声明使用mmark，一种是日志文件以<code>.mmark</code>结尾，另一种在日志文件的头部增加<code>markup: mmark</code>声明使用mmark进行解析。</p>

<h2 id="问题列表">问题列表</h2>

<p>以下是问题列表：</p>

<ol>
<li><p>无序列表的多级列表无法显示层级，即应表现为:</p>

<blockquote>
<ul>
<li>have a try

<ul>
<li>first</li>
<li>second

<ul>
<li>another</li>
</ul></li>
</ul></li>
</ul>
</blockquote>

<p>却表现为(空心应为实心)：</p>

<blockquote>
<ul>
<li>have a try

<ul>
<li>first</li>
<li>second</li>
<li>another</li>
</ul></li>
</ul>
</blockquote></li>

<li><p>有序列表下的无序列表表现为有序列表，即应表现为:</p>

<blockquote>
<ol>
<li>have a try

<ul>
<li>first</li>
<li>second</li>
</ul></li>
</ol>
</blockquote>

<p>却表现为：</p>

<blockquote>
<ol>
<li>have a try

<ol>
<li>first</li>
<li>second</li>
</ol></li>
</ol>
</blockquote></li>

<li><p>引用中的代码段无法识别正确结束位置，即应表现为:</p>

<blockquote>
<blockquote>
<p>In the quote</p>

<pre><code class="language-shell"> $ This is code fence
</code></pre>
</blockquote>

<p>Out the quote</p>

<pre><code class="language-shell"> $ Another code fence
</code></pre>
</blockquote>

<p>却表现为：</p>

<blockquote>
<blockquote>
<p>In the quote</p>

<pre><code class="language-shell"> &gt; $ This is code fence
 &gt; ```
 
 Out the quote
 ```shell
 $ Another code fence
</code></pre>
</blockquote>
</blockquote></li>
</ol>

<h2 id="问题定位-解决方案">问题定位&amp;解决方案</h2>

<ol>
<li><p>无序列表的多级列表无法显示层级</p>

<p>使用BlackFriday。<br />
这个问题可以拆分为两个问题，一是无法显示多级列表，二是无序列表的多级标签都为小黑点。
对于前者，无法显示多级列表一般是因为段落前的空格不够，如果2个空格无法使markdown渲染器认为是新的层级，就改为4个空格。<br />
对于第二个问题，受<a href="https://discourse.gohugo.io/t/markdown-nested-list-renders-flat-solved/6392">这个解答</a>提示，发现是cocoa这个主题的css设置。在<code>static/css/override.css</code>中增加：</p>

<pre><code class="language-css">/* Nested Unordered List */

section.main .content .markdown ul &gt; li {
    list-style-type: disc;
}

section.main .content .markdown ul &gt; li &gt; ul &gt; li {
    list-style-type: circle;
}

section.main .content .markdown ul &gt; li &gt; ul &gt; li &gt; ul &gt; li {
    list-style-type: square;
}
</code></pre></li>

<li><p>有序列表下的无序列表表现为有序列表</p>

<p>使用BlackFriday。<br />
这个问题也可以通过css设置解决。在<code>static/css/override.css</code>中增加：</p>

<pre><code class="language-css">/* Mix List */

section.main .content .markdown ul &gt; li &gt; ol &gt; li {
    list-style-type: decimal;
}
  
section.main .content .markdown ol &gt; li &gt; ul &gt; li {
    list-style-type: disc;
}

section.main .content .markdown ol &gt; li &gt; ul &gt; li &gt; ul &gt; li {
    list-style-type: circle;
}
</code></pre></li>

<li><p>引用中的代码段无法识别正确结束位置</p>

<p>这个主要是由于对于引用的格式不同造成的，如果引用中包含code fence，只需要在code fence的第一行加上引用标识符就可以，第二行开始不用增加。样例中正确显式的代码如下：</p>

<pre><code>In the quote   
&gt; ```shell   
$ This is code fence    
```  
     
Out the quote    
```shell        
 $ Another code fence
```     

</code></pre></li>
</ol>

<h2 id="resource资源链接汇总">Resource资源链接汇总</h2>

<p>我建立的docker for Hugo开发镜像:  <a href="https://hub.docker.com/r/orianna/hugo-docker-dev/">Docker Hub上的repo</a>、<a href="https://github.com/orianna-zzo/hugo-docker-dev">Github上的repo</a>。<br />
我的个人主页Hugo代码:  <a href="https://github.com/orianna-zzo/blog-hugo">blog-hugo</a></p>

<p><a href="http://commonmark.org/">CommonMark</a>、<a href="https://github.github.com/gfm/">GitHub Flavored Markdown Spec</a>、<a href="https://github.com/miekg/mmark">mmark github</a>、<a href="https://gohugo.io/getting-started/configuration/#blackfriday-options">Blackfriday配置</a></p>

<h2 id="版本控制">版本控制</h2>

<table>
<thead>
<tr>
<th>Version</th>
<th>Action</th>
<th>Time</th>
</tr>
</thead>

<tbody>
<tr>
<td>1.0</td>
<td>Init  Q1~Q3</td>
<td>2018-03-20</td>
</tr>
</tbody>
</table>

                <br>
                <p class="back-to-posts"><a href="https://orianna-zzo.github.io/blog/">Back to posts</a></p>
            </div>
            <br>
            <div class="disqus">
                
            </div>
            
        </div>
    </div>
</section>



<script type="text/javascript" src="https://orianna-zzo.github.io/js/jquery/jquery-3.3.1.min.js"></script>







  
<script src="https://orianna-zzo.github.io/js/highlight.pack.js"> </script>
  <script>hljs.initHighlightingOnLoad();</script>





<script src="https://orianna-zzo.github.io/js/katex/katex.min.js"> </script>
<script src="https://orianna-zzo.github.io/js/katex/contrib/auto-render.min.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        renderMathInElement(document.body);
    });
</script>







</body>
</html>

